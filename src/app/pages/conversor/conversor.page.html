<ion-header [translucent]="false">
  <ion-toolbar color="warning">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons> 
    <ion-title>Conversor</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [style.visibility]="content_visibility">

  <ion-card *ngIf="email() === 'profesor@profesor.cl'" class="ion-text-center">
    <ion-card-content>
      <qrcode [qrdata]="qrString" 
      [width]="256" 
      [errorCorrectionLevel]="'M'">
      </qrcode>
    </ion-card-content>
  </ion-card>

  <ion-button *ngIf="email() !== 'profesor@profesor.cl'" expand="block" class="ion-margin" (click)="escanear()" >Escanear QR</ion-button>

    <form *ngIf="scannedResults === qrString" (ngSubmit)="onSubmit()" class="ion-padding" [formGroup]="asistencia" novalidate>
      <ion-list>
        <ion-item>
          <ion-label position="stacked">Correo Electronico</ion-label>
          <ion-input formControlName="email" disabled></ion-input>
        </ion-item>
      </ion-list>
      <ion-list>
        <ion-item>
          <ion-label position="stacked">Nombre</ion-label>
          <ion-input formControlName="nombre"></ion-input>
        </ion-item>
      </ion-list>
      <ion-list>
        <ion-item>
          <ion-label position="stacked">Fecha</ion-label>
          <ion-input formControlName="fecha" disabled></ion-input>
        </ion-item>
      </ion-list>
      <ion-list>
        <ion-item>
          <ion-label position="stacked">rut</ion-label>
          <ion-input formControlName="rut"></ion-input>
        </ion-item>
      </ion-list>
      <ion-row>
        <ion-col>
          <ion-button color="warning" type="submit" expand="block">Registrar asistencia</ion-button>
        </ion-col>
      </ion-row>
    </form>
</ion-content>
